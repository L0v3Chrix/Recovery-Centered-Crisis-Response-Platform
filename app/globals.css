@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Aurora Hope Design System - Psychology-based Colors */
  --aurora-indigo700: #1B2A5B;  /* Trust, primary brand */
  --aurora-indigo500: #2B50E2;  /* Action buttons, CTAs */
  --aurora-azure400: #3EC6FF;   /* Focus states, hover effects */
  --aurora-emerald500: #14B8A6; /* Support actions, positive */
  --aurora-fuchsia500: #A855F7; /* Education highlights */
  --aurora-crimson600: #E11D48; /* EMERGENCY ONLY */
  --ink900: #0F172A;            /* Deep text */
  --canvas-tint: #F6F8FF;       /* Subtle backgrounds */
}

/* Aurora Hope Gradients */
.bg-aurora {
  background: linear-gradient(135deg, #1B2A5B 0%, #2B50E2 35%, #6BA9FF 100%);
}

.bg-support {
  background: linear-gradient(135deg, #2B50E2 0%, #14B8A6 50%, #3EC6FF 100%);
}

@layer base {
  html, body { 
    height: 100%; 
  }
  
  body {
    @apply min-h-dvh text-slate-50;
    /* Full-bleed gradient */
    background: radial-gradient(1200px 800px at 20% -10%, rgba(59,130,246,.18), transparent 60%),
                radial-gradient(1000px 700px at 100% 0%, rgba(147,51,234,.14), transparent 50%),
                linear-gradient(180deg, #0b1020 0%, #0e1650 60%, #113172 100%);
  }
  
  /* Subtle noise for depth */
  body::after {
    content: ""; 
    position: fixed; 
    inset: 0; 
    pointer-events: none; 
    z-index: 0;
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAQAAAC1HAwCAAAADUlEQVQIW2NkYGBgYAAAAgAB9tXKswAAAABJRU5ErkJggg==');
    opacity: .08; 
    mix-blend-mode: overlay;
  }
  
  ::selection { 
    background: rgba(59,130,246,.35); 
    color: #fff; 
  }
  
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  /* Aurora Hope Component Layer */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
    box-shadow: 0 0 0 3px rgba(62,198,255,.35);
    box-shadow: none;
  }
  
  .btn:focus {
    box-shadow: 0 0 0 3px rgba(62,198,255,.35);
  }
  
  .btn-primary {
    @apply btn bg-aurora-indigo500 hover:bg-aurora-indigo700 text-white focus:ring-aurora-azure400;
  }
  
  .btn-ghost {
    @apply btn bg-transparent hover:bg-canvasTint text-aurora-indigo700 border border-aurora-indigo500 hover:border-aurora-indigo700;
  }
  
  .btn-quiet {
    @apply btn bg-transparent hover:bg-canvasTint text-warm-slate-600 hover:text-aurora-indigo700 min-h-[44px] px-6;
  }
  
  .chip {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-canvasTint text-aurora-indigo700 border border-aurora-azure400;
  }
  
  .card {
    @apply bg-white rounded-2xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow text-gray-900;
  }
  
  /* Glass morphism card with depth */
  .ui-card {
    @apply rounded-2xl bg-white/[0.08] backdrop-blur-md ring-1 ring-white/10 transition-shadow;
    box-shadow: 0 20px 60px rgba(10,23,70,.45);
  }
  
  .ui-card:hover {
    box-shadow: 0 30px 80px rgba(10,23,70,.55);
  }
  
  .panel {
    @apply bg-canvasTint rounded-2xl p-8 border border-aurora-azure400/20;
  }
  
  .support {
    @apply bg-aurora-emerald500 hover:bg-opacity-90 text-white rounded-lg px-4 py-2 font-medium transition-all;
  }

  /* Legacy Components (keeping for compatibility) */
  .crisis-button {
    @apply bg-aurora-crimson600 hover:bg-red-700 text-white font-bold py-4 px-6 rounded-lg text-lg shadow-lg transform transition hover:scale-105 active:scale-95;
  }
  
  .resource-card {
    @apply card;
  }
  
  .action-button {
    @apply btn-primary py-3 px-6;
  }
  
  .call-button {
    @apply bg-aurora-emerald500 hover:bg-opacity-90 text-white font-bold py-4 px-8 rounded-full text-lg shadow-lg min-h-[60px] flex items-center justify-center;
  }

  /* Missing button classes */
  .btn-sm {
    @apply btn px-3 py-2 text-sm;
  }

  .btn-outline {
    @apply btn bg-transparent border-2 border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400;
  }

  /* Form input styling for readability */
  input[type="text"], input[type="email"], input[type="tel"], input[type="url"], textarea, select {
    @apply text-gray-900 bg-white placeholder:text-gray-500;
  }

  input[type="text"]:focus, input[type="email"]:focus, input[type="tel"]:focus, input[type="url"]:focus, textarea:focus, select:focus {
    @apply text-gray-900;
  }

  /* Form labels should be dark on light card backgrounds */
  .card label {
    @apply text-gray-700;
  }


  /* Light background sections should have dark text */
  .bg-white, .bg-gray-50, .bg-blue-50, .bg-purple-50, .bg-green-50, .bg-yellow-50, .bg-red-50 {
    color: #374151 !important; /* gray-700 */
  }

  /* All content within light background containers */
  .bg-white *, .bg-gray-50 *, .bg-blue-50 *, .bg-purple-50 *, .bg-green-50 *, .bg-yellow-50 *, .bg-red-50 * {
    color: inherit;
  }

  /* Ensure headings on light backgrounds are dark */
  .bg-white h1, .bg-white h2, .bg-white h3, .bg-white h4, .bg-white h5, .bg-white h6,
  .bg-gray-50 h1, .bg-gray-50 h2, .bg-gray-50 h3, .bg-gray-50 h4, .bg-gray-50 h5, .bg-gray-50 h6,
  .bg-blue-50 h1, .bg-blue-50 h2, .bg-blue-50 h3, .bg-blue-50 h4, .bg-blue-50 h5, .bg-blue-50 h6 {
    color: #111827 !important; /* gray-900 */
    text-shadow: none;
  }

  /* Override global dark theme for specific colored text that should remain colored */
  .text-purple-700, .text-blue-600, .text-green-700, .text-red-700, .text-yellow-700, .text-gray-600, .text-gray-700 {
    color: inherit !important;
  }

  /* Aurora color system fallbacks for readability */
  .text-warm-slate-700 {
    color: #374151 !important; /* gray-700 */
  }
  
  .text-warm-slate-600 {
    color: #4b5563 !important; /* gray-600 */
  }

  .text-aurora-indigo700 {
    color: #1e3a8a !important; /* blue-800 */
  }

  .text-aurora-indigo600 {
    color: #2563eb !important; /* blue-600 */
  }

  .text-aurora-emerald500 {
    color: #10b981 !important; /* emerald-500 */
  }

  .text-aurora-fuchsia500 {
    color: #a855f7 !important; /* purple-500 */
  }

  .text-aurora-azure400 {
    color: #60a5fa !important; /* blue-400 */
  }

  .text-aurora-indigo500 {
    color: #3b82f6 !important; /* blue-500 */
  }

  /* Background color fallbacks */
  .bg-aurora-emerald500 {
    background-color: #10b981 !important; /* emerald-500 */
  }

  .bg-aurora-azure400 {
    background-color: #60a5fa !important; /* blue-400 */
  }

  .bg-aurora-fuchsia500 {
    background-color: #a855f7 !important; /* purple-500 */
  }

  .bg-aurora-emerald600 {
    background-color: #059669 !important; /* emerald-600 */
  }

  .bg-aurora-azure50 {
    background-color: #eff6ff !important; /* blue-50 */
  }

  .border-aurora-azure200 {
    border-color: #bfdbfe !important; /* blue-200 */
  }

  /* Support page specific fixes */
  .bg-gradient-to-br {
    color: #374151 !important; /* Ensure dark text on gradient backgrounds */
  }

  .bg-gradient-to-br * {
    color: inherit !important;
  }

  /* Hero section fixes - ensure contrast on the main page container */
  .bg-gradient-to-b {
    color: #374151; /* Dark text on light gradient backgrounds */
  }

  .bg-gradient-to-b * {
    color: inherit;
  }

  /* Ensure all text in light background containers is dark */
  .py-16 .text-aurora-indigo700,
  .py-16 .text-warm-slate-700,
  .py-16 .text-warm-slate-600 {
    color: #374151 !important;
  }
}

/* ---- Global readability + depth ---- */
@layer base {
  /* Darken background under all content for consistent contrast */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0; /* below content */
    background:
      linear-gradient(180deg, rgba(0,0,0,.34), rgba(0,0,0,.22) 40%, rgba(0,0,0,.28)),
      radial-gradient(1200px 900px at 50% 20%, rgba(0,0,0,.25), transparent 60%);
  }
  body { color: #f8fafc; }
  h1, h2, h3 { color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.45); letter-spacing:-0.01em; }
  p, li, small { color: rgba(248,250,252,.92); }
  a { color:#7dd3fc; }
  a:hover, a:focus { color:#38bdf8; text-decoration:underline; text-underline-offset:2px; }
}

/* Optional reusable surface for extra contrast on bright zones */
.surface {
  background: rgba(8,12,30,.48);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  border-radius: 1rem;
  box-shadow: 0 18px 60px rgba(10,23,70,.40);
  outline: 1px solid rgba(255,255,255,.08);
}